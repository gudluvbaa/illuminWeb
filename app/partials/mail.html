<div class="popup-layout mail-popup col-lg-12" controller="MailController">
	<tabset>
  		<tab heading="收件">
			<div class="col-lg-12 user-search-bar"><input id="userSearchBar" type="text" name="txt" class="form-control" onchange="userSearchInMailMng(this.value)" placeholder="Search User..."  autofocus></div>
			<div id="searchResult" style="display:none">
			  <div class="popup-content">
					<label class="control-label">住戶：</label>
					<span id="mailtoHouseId" class="control-label" style="display:none;"></span>
					<span id="housefloornumber" class="control-label"></span>
					<label class="control-label"> 共<span id="mailquantity" class="user-amount-mail">0</span>信件</label>
					<input onclick="MailPostInMailMng()" type="image" src="./img2/Email-icon.png" alt="Add Mail" width="48" height="48" style="float:right">
					<input onclick="AddInMailMng()" type="image" src="./img2/Actions-contact-new-icon.png" alt="Add Mail" width="48" height="48" style="float:right">
					<table id="mailReceiverTable" class="mail-list table table-hover-block">
						<thead>        
					        <tr>
					            <th id="stampNumber" style="text-align: center; width: 10%">郵件編號</th>
					            <th style="text-align: center; width: 10%">類別</th>
					            <th style="text-align: center; width: 5%">寄件人</th>
					            <th style="text-align: center; width: 5%">收件人</th>
						    <th style="text-align: center; width: 10%">備註</th>
						    <th style="text-align: center; width: 10%"></th>
					        </tr>
					    </thead>
					    <tbody id="containMail">
					    </tbody>
					</table>
				</div>
			</div>						
  		</tab>
	    <tab heading="領件">
	    	<div class="col-lg-12 user-search-bar">
	    		<input id="userSearchBar" type="text" name="txt" class="form-control" onchange="userSearchInMailMngCollect(this.value)" placeholder="Search User..."  autofocus>
	    	</div>
	    	<div id="searchUserMailResult" style="display:none">
	    		<div class="mail-collect-content">
					<label class="control-label">住戶：</label>
					<label id="userTitle" class="control-label"></label>
					<label class="control-label">共<span id="userAmountMail" class="user-amount-mail">0</span>信件</label>
					<div class="mail-list-search">
						<input id="searchMailCode" type="text" placeholder="信件流水編號.." style="color: #000;"/>
						<button type="button" class="btn btn-primary" onclick="searchMailBtn()">搜尋</button>
					</div>
					<div class="mail-list-table">
						<table class="mail-list table table-hover-block">
							<thead>        
						        <tr>
						            <th style="text-align: center; width: 20%">郵件編號</th>
						            <th style="text-align: center; width: 5%">類別</th>
						            <th style="text-align: center; width: 15%">寄件者</th>
						            <th style="text-align: center; width: 10%">收件者</th>
						            <th style="text-align: center; width: 10%">備註</th>
						            <th style="text-align: center; width: 5%">領取</th>
						        </tr>
						    </thead>
						    <tbody class="user-mail-list">
						    </tbody>
						</table>
					</div>
				</div>
				<div class="mail-receiver-section"></div>
	    	</div>
  		</tab>
  		<tab heading="退件">
  			
  		</tab>
  		<tab heading="查件">
  			<div id="mailRecordList" class="mail-record-list-wrap col-lg-12">
				<input type="text" placeholder="Search..." ng-model="mailSearch" class="form-control" autofocus />
				<table class="mail-record-list table table-hover-block">
					<thead>        
				        <tr>
				            <th style="text-align: center; width: 10%">類別</th>
				            <th style="text-align: center; width: 15%">收件時間</th>
				            <th style="text-align: center; width: 15%">交件者</th>
				            <th style="text-align: center; width: 15%">收件者</th>
				            <th style="text-align: center; width: 15%">領件者</th>
				            <th style="text-align: center; width: 15%">領取時間</th>
				            <th style="text-align: center; width: 15%">標題</th>
				            <th style="text-align: center; width: 15%">圖片</th>
				        </tr>
				    </thead>
				    <tbody>
				    	<tr class="mailListItem" ng-repeat="item in mails | orderBy:'dateReceived':true | filter:{complete: true} | filter:mailSearch" >
				    		<td class="sender-type-{{item.deliveryMethod}}" style="text-align: center; width: 5%"></td>
				    		<td style="text-align: center;"><span>{{item.dateReceive | date:'yyyy-MM-dd'}}</span><br/><span>{{item.dateReceive | date:'HH:mm'}}</span></td>
				    		<td style="text-align: center;">{{item.from}}</td>
				    		<td style="text-align: center;">{{item.to}}</td>
				    		<td style="text-align: center;">{{item.receiver}}</td>
				    		<td style="text-align: center;"><span>{{item.dateReceived | date:'yyyy-MM-dd'}}</span><br/><span>{{item.dateReceived | date:'HH:mm'}}</span></td>
				    		<td style="text-align: center;">{{item.title}}</td>
						    <td style="text-align: center; width: 15%;"><img style="width: auto; height: 50px;" src="{{item.imageReceiverDetail.url}}" /></td>
				    	</tr>
				    </tbody>
				</table>
			</div>
  		</tab>
  	</tabset>	
</div>